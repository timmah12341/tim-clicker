<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>üç™ Cookie Clicker Tim</title>
<style>
  body {
    background: #222;
    color: white;
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
  }
  h1 { font-size: 2.5em; margin-top: 20px; }
  #cookie {
    width: 200px;
    cursor: pointer;
    transition: transform 0.1s;
  }
  #cookie:active {
    transform: scale(0.9);
  }
  #stats {
    margin-top: 10px;
    font-size: 1.2em;
  }
  #upgrades {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin-top: 20px;
  }
  .upgrade {
    background: #333;
    padding: 10px;
    border-radius: 10px;
    width: 120px;
    cursor: pointer;
  }
  .upgrade img {
    width: 80px;
  }
  #leaderboard {
    margin-top: 30px;
    background: #111;
    padding: 10px;
    border-radius: 10px;
    width: 300px;
    margin-left: auto;
    margin-right: auto;
  }
</style>
</head>
<body>

<h1>üç™ Cookie Clicker Tim</h1>
<p>Welkom! Vul je naam in om te beginnen:</p>
<input id="nameInput" placeholder="Jouw naam">
<button id="startBtn">Start</button>

<div id="game" style="display:none;">
  <img id="cookie" src="images/png1.png" alt="cookie">
  <div id="stats">
    <p>Cookies: <span id="cookieCount">0</span></p>
  </div>

  <h2>Upgrades</h2>
  <div id="upgrades"></div>

  <div id="leaderboard">
    <h3>üèÜ Leaderboard (lokaal)</h3>
    <ul id="leaderboardList"></ul>
  </div>
</div>

<script>
let playerName = "";
let cookies = 0;
let cps = 0;
const cookieEl = document.getElementById('cookie');
const cookieCountEl = document.getElementById('cookieCount');
const upgradesEl = document.getElementById('upgrades');
const leaderboardList = document.getElementById('leaderboardList');

document.getElementById('startBtn').onclick = () => {
  const name = document.getElementById('nameInput').value.trim();
  if (!name) return alert("Voer een naam in!");
  playerName = name;
  document.getElementById('game').style.display = 'block';
  document.getElementById('nameInput').style.display = 'none';
  document.getElementById('startBtn').style.display = 'none';
  loadGame();
  updateLeaderboard();
};

// Cookie klikken
cookieEl.onclick = () => {
  cookies++;
  cookieCountEl.textContent = cookies;
  saveGame();
};

// Upgrades genereren
for (let i = 1; i <= 20; i++) {
  const cost = i * 50;
  const power = i;
  const div = document.createElement('div');
  div.className = 'upgrade';
  div.innerHTML = `<img src="images/png${i}.png"><br>Upgrade ${i}<br>üí∞ ${cost}`;
  div.onclick = () => buyUpgrade(i, cost, power);
  upgradesEl.appendChild(div);
}

function buyUpgrade(id, cost, power) {
  if (cookies >= cost) {
    cookies -= cost;
    cps += power;
    cookieCountEl.textContent = cookies;
    alert(`Upgrade ${id} gekocht! üç™ +${power}/s`);
    saveGame();
  } else {
    alert("Niet genoeg cookies!");
  }
}

// Opslaan in localStorage
function saveGame() {
  const data = JSON.parse(localStorage.getItem('tim_clicker_data') || '{}');
  data[playerName] = { cookies, cps };
  localStorage.setItem('tim_clicker_data', JSON.stringify(data));
  updateLeaderboard();
}

// Laden van opgeslagen data
function loadGame() {
  const data = JSON.parse(localStorage.getItem('tim_clicker_data') || '{}');
  if (data[playerName]) {
    cookies = data[playerName].cookies || 0;
    cps = data[playerName].cps || 0;
    cookieCountEl.textContent = cookies;
  }
}

// Leaderboard tonen
function updateLeaderboard() {
  const data = JSON.parse(localStorage.getItem('tim_clicker_data') || '{}');
  const players = Object.entries(data).map(([name, p]) => ({ name, cookies: p.cookies || 0 }));
  players.sort((a, b) => b.cookies - a.cookies);
  leaderboardList.innerHTML = "";
  for (const p of players.slice(0, 10)) {
    const li = document.createElement('li');
    li.textContent = `${p.name}: ${p.cookies} üç™`;
    leaderboardList.appendChild(li);
  }
}

// Cookies per seconde
setInterval(() => {
  cookies += cps;
  cookieCountEl.textContent = cookies;
  saveGame();
}, 1000);
</script>
</body>
</html>
